(this["webpackJsonpexercises2.6-2.10"]=this["webpackJsonpexercises2.6-2.10"]||[]).push([[0],{19:function(e,n,t){},20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t.n(c),o=t(14),a=t.n(o),i=(t(19),t(4)),u=(t(20),t(3)),l=t.n(u),s="/api/persons",d=function(){return l.a.get(s).then((function(e){return e.data}))},j=function(e){return l.a.post(s,e).then((function(e){return e.data.payload}))},b=function(e){return l.a.delete("".concat(s,"/").concat(e))},h=function(e,n){return console.log("llega aqui?"),console.log(e,n),l.a.patch("".concat(s,"/").concat(e),{number:n})},f=t(0),m=function(e){var n=e.name,t=e.number,c=e.deleteHandler;return Object(f.jsxs)("li",{children:[n," - ",t," ",Object(f.jsx)("button",{onClick:c,children:"delete"})]})},p=function(e){var n=e.contacts,t=e.filter,c=e.listUpdater;return n.length?t?Object(f.jsxs)("div",{children:[Object(f.jsxs)("h2",{children:["Numbers by name: ",t]}),Object(f.jsx)("ul",{children:n.filter((function(e){return e.name.toLowerCase().startsWith(t.toLowerCase())})).map((function(e){return Object(f.jsx)(m,{name:e.name,number:e.number},e.id)}))})]}):Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Numbers"}),Object(f.jsx)("ul",{children:n.map((function(e){return Object(f.jsx)(m,{name:e.name,number:e.number,deleteHandler:function(){var t;t=e,window.confirm("Do you really want to delete ".concat(t.name," from your phonebook?"))&&b(t.id).then((function(e){console.log(e),c(n.filter((function(e){return e.id!==t.id})))}))}},e.id)}))})]}):Object(f.jsx)("div",{children:"No contacts have been added yet"})},O=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Filter by name:"}),Object(f.jsx)("input",{onChange:e.inputHandler,value:e.inputValue})]})},x=function(e){return Object(f.jsxs)("form",{onSubmit:e.formHandler,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Add new contact"}),Object(f.jsx)("label",{htmlFor:"name ",children:"Name:"}),Object(f.jsx)("input",{name:"name",onChange:e.inputHandlers.nameHandler,value:e.inputValues.nameValue})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{htmlFor:"phone ",children:"Phone:"}),Object(f.jsx)("input",{name:"phone",onChange:e.inputHandlers.phoneHandler,value:e.inputValues.phoneValue})]}),Object(f.jsx)("button",{type:"submit",children:"Add new contact"})]})};var v=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),a=Object(i.a)(o,2),u=a[0],l=a[1],s=Object(c.useState)(""),b=Object(i.a)(s,2),m=b[0],v=b[1],g=Object(c.useState)(""),w=Object(i.a)(g,2),H=w[0],y=w[1];Object(c.useEffect)((function(){d().then((function(e){console.log(e),r(e)})).catch((function(e){console.log(e),alert("getAll() not working correctly")}))}),[]);var V={phoneHandler:function(e){return v(e.target.value)},nameHandler:function(e){return l(e.target.value)}},k={phoneValue:m,nameValue:u};return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"PhoneBook"}),Object(f.jsx)(O,{inputHandler:function(e){y(e.target.value)},inputValue:H}),Object(f.jsx)(x,{formHandler:function(e){if(e.preventDefault(),u&&m){var n=t.find((function(e){return e.name===u}));if(n)window.confirm("".concat(u," is already registered in the phonebook, do you wish to replace the old number with this new one?"))&&(console.log(n),h(n.id,m).then((function(e){console.log(e)})));else{var c={name:u,number:parseInt(m)};j(c).then((function(e){r(t.concat(e)),l(""),v("")}))}}},inputHandlers:V,inputValues:k}),Object(f.jsx)(p,{contacts:t,filter:H,listUpdater:function(e){r(e)}})]})};a.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.72018add.chunk.js.map